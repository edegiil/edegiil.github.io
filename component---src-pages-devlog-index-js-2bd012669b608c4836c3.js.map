{"version":3,"sources":["webpack:///./src/pages/Devlog/index.js"],"names":["query","withLayout","data","allMarkdownRemark","distinct","group","useState","fieldValue","category","setCategory","list","setList","useEffect","filter","v","edges","title","className","map","key","i","String","onClick","totalCount","node","frontmatter","date","path","summary","thumbnail","to","alt","src","undefined","width"],"mappings":"6FACA,0GAmEaA,GAnEb,UAmEkB,cAuBHC,uBAjFA,SAAC,GAAmB,IAAD,IAAhBC,KACiBC,kBAAzBC,EADwB,EACxBA,SAAUC,EADc,EACdA,MADc,EAGAC,mBAASD,EAAM,GAAGE,YAA3CC,EAHyB,KAGfC,EAHe,OAIRH,mBAAS,IAA1BI,EAJyB,KAInBC,EAJmB,KAMhCC,qBAAU,WACRD,EAAQN,EAAMQ,QAAO,SAACC,GAAD,OAAOA,EAAEP,aAAeC,KAAU,GAAGO,SACzD,CAACP,IAIJ,OACE,oCACE,kBAAC,IAAD,CAAKQ,MAAM,WACX,yBAAKC,UAAU,kBACb,yBAAKA,UAAU,uBAEXb,EAASc,KAAI,SAACC,EAAKC,GAAN,OACX,yBAAKH,UAAU,qBAAqBE,IAAKE,OAAOD,IAC9C,yBAAKH,UAAU,mBAAmBK,SAVxBR,EAUgDK,EAV1C,kBAAMV,EAAYK,MAW5BK,EADN,KACcd,EAAMe,GAAGG,WADvB,MAVS,IAACT,MAiBlB,yBAAKG,UAAU,uBACb,yBAAKA,UAAU,qBAAqBT,GAEjCE,EAEGA,EAAKQ,KAAI,SAACJ,EAAGM,GAAO,IAAD,EAC+BN,EAAEU,KAAKC,YAAjDT,EADW,EACXA,MAAOU,EADI,EACJA,KAAMC,EADF,EACEA,KAAMC,EADR,EACQA,QAASC,EADjB,EACiBA,UACpC,OACE,kBAAC,OAAD,CAAMC,GAAIH,EAAMV,UAAU,sBAAsBE,IAAKE,OAAOD,IAC1D,yBAAKH,UAAU,6BACb,yBAAKA,UAAU,oBAAoBc,IAAI,OAAOC,IAAKH,KAErD,yBAAKZ,UAAU,4BACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,0BAA0BD,GACzC,yBAAKC,UAAU,+BAA+BS,IAEhD,yBAAKT,UAAU,oBACZW,aAdTK,OAkDDhC,CAAmB,CAAEe,MAAO,SAAUkB,MAAO","file":"component---src-pages-devlog-index-js-2bd012669b608c4836c3.js","sourcesContent":["// @flow\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, graphql } from 'gatsby';\r\n\r\nimport withLayout from 'hoc/withLayout';\r\n\r\nimport SEO from 'components/seo';\r\n\r\nimport './styles.scss';\r\n\r\nconst Devlog = ({ data }: any) => {\r\n  const { distinct, group } = data.allMarkdownRemark;\r\n\r\n  const [category, setCategory] = useState(group[0].fieldValue);\r\n  const [list, setList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setList(group.filter((v) => v.fieldValue === category)[0].edges);\r\n  }, [category]);\r\n\r\n  const handleCategory = (v) => () => setCategory(v);\r\n\r\n  return (\r\n    <>\r\n      <SEO title='Devlog' />\r\n      <div className='devlog-wrapper'>\r\n        <div className='devlog-menu-wrapper'>\r\n          {\r\n            distinct.map((key, i) => (\r\n              <div className='devlog-menu-column' key={String(i)}>\r\n                <div className='devlog-menu-text' onClick={handleCategory(key)}>\r\n                  {`${key} (${group[i].totalCount})`}\r\n                </div>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n        <div className='devlog-list-wrapper'>\r\n          <div className='devlog-list-title'>{category}</div>\r\n          {\r\n            !list\r\n              ? undefined\r\n              : list.map((v, i) => {\r\n                const { title, date, path, summary, thumbnail } = v.node.frontmatter;\r\n                return (\r\n                  <Link to={path} className='devlog-post-wrapper' key={String(i)}>\r\n                    <div className='devlog-post-image-wrapper'>\r\n                      <img className='devlog-post-image' alt='post' src={thumbnail} />\r\n                    </div>\r\n                    <div className='devlog-post-text-wrapper'>\r\n                      <div className='devlog-post-text-title-wrapper'>\r\n                        <div className='devlog-post-text-title'>{title}</div>\r\n                        <div className='devlog-post-text-title-date'>{date}</div>\r\n                      </div>\r\n                      <div className='devlog-post-text'>\r\n                        {summary}\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                );\r\n              })\r\n          }\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const query = graphql`\r\n  {\r\n    allMarkdownRemark {\r\n      distinct(field: frontmatter___category)\r\n      group(field: frontmatter___category) {\r\n        edges {\r\n          node {\r\n            frontmatter {\r\n              title\r\n              date\r\n              path\r\n              summary\r\n              thumbnail\r\n            }\r\n          }\r\n        }\r\n        fieldValue\r\n        totalCount\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default withLayout(Devlog)({ title: 'Devlog', width: 'full' });\r\n"],"sourceRoot":""}