{"version":3,"sources":["webpack:///./src/pages/devlog.js"],"names":["Background","styled","div","ContentSection","section","props","theme","tablet","mobile","TitleGroup","Title","h2","Filter","FilterElement","Main","main","Post","Thumbnail","img","DARK_COLOR","EmptyImage","PostInfoSection","PostTitle","h3","PostCategory","h4","PostSubtitle","PostDateCreated","p","query","Devlog","data","allMarkdownRemark","distinct","group","useState","undefined","category","setCategory","list","setList","useEffect","filter","v","fieldValue","edges","all_posts","map","i","reduce","prev","curr","concat","onClick","key","String","totalCount","node","frontmatter","title","summary","date_created","thumbnail","path","to","src"],"mappings":"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","file":"component---src-pages-devlog-js-76f5517fab15bafa2b0d.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport {Link, graphql} from 'gatsby';\n\nconst Background = styled.div`\n  display: flex;\n  min-height: 100vh;\n  width: 100vw;\n  padding: 81px 0;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst ContentSection = styled.section`\n  width: 900px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  @media ${(props) => props.theme.tablet} {\n    width: 500px;\n  }\n  @media ${(props) => props.theme.mobile} {\n    width: 350px;\n  }\n`;\n\nconst TitleGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 900px;\n  @media ${(props) => props.theme.tablet} {\n    width: 500px;\n  }\n  @media ${(props) => props.theme.mobile} {\n    width: 350px;\n  }\n`;\n\nconst Title = styled.h2`\n  font-weight: 100;\n  margin: 0;\n`;\n\nconst Filter = styled.div`\n  display: grid;\n  grid-auto-flow: column dense;\n  justify-items: end;\n  column-gap: 12px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n`;\n\nconst FilterElement = styled.div`\n  cursor: pointer;\n`;\n\nconst Main = styled.main`\n  display: grid;\n  flex-direction: column;\n  width: 900px;\n  row-gap: 16px;\n  margin-top: 16px;\n  @media ${(props) => props.theme.tablet} {\n    width: 500px;\n  }\n  @media ${(props) => props.theme.mobile} {\n    width: 350px;\n  }\n`;\n\nconst Post = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  @media ${(props) => props.theme.tablet} {\n    flex-direction: column;\n  }\n  @media ${(props) => props.theme.mobile} {\n    flex-direction: column;\n  }\n`;\n\nconst Thumbnail = styled.img`\n  width: 360px;\n  height: 210px;\n  background-color: ${(props) => props.theme.DARK_COLOR};\n  @media ${(props) => props.theme.tablet} {\n    margin-bottom: 8px;\n  }\n  @media ${(props) => props.theme.mobile} {\n    width: 350px;\n    height: 201px;\n  }\n`;\n\nconst EmptyImage = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 360px;\n  height: 210px;\n  background-color: ${(props) => props.theme.DARK_COLOR};\n  @media ${(props) => props.theme.tablet} {\n    margin-bottom: 8px;\n  }\n  @media ${(props) => props.theme.mobile} {\n    width: 350px;\n    height: 201px;\n  }\n`;\n\nconst PostInfoSection = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-left: 24px;\n  @media ${(props) => props.theme.tablet} {\n    margin-left: 0;\n  }\n  @media ${(props) => props.theme.mobile} {\n    margin-left: 4px;\n  }\n`;\n\nconst PostTitle = styled.h3`\n  margin: 0;\n  margin-bottom: 16px;\n  @media ${(props) => props.theme.tablet} {\n    margin-bottom: 8px;\n  }\n  @media ${(props) => props.theme.mobile} {\n    margin-bottom: 8px;\n  }\n`;\n\nconst PostCategory = styled.h4`\n  margin: 0;\n  font-weight: 100;\n`;\n\nconst PostSubtitle = styled.h4`\n  margin: 0;\n  margin-bottom: 8px;\n  font-weight: 100;\n`;\n\nconst PostDateCreated = styled.p`\n  margin: 0;\n  font-weight: 100;\n`;\n\nfunction Devlog({data}) {\n  const {distinct, group} = data.allMarkdownRemark;\n\n  const [category, setCategory] = useState(undefined);\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    if (category) {\n      setList(group.filter((v) => v.fieldValue === category)[0].edges);\n    } else {\n      const categories = group.map((v, i) => {\n        return v.edges;\n      });\n      const all_posts = categories.reduce((prev, curr) => prev.concat(curr));\n      setList(all_posts);\n    }\n  }, [category, group]);\n\n  const handleCategory = (v) => () => setCategory(v);\n  const clearCategory = () => setCategory(undefined);\n\n  return (\n    <Background>\n      <ContentSection>\n        <TitleGroup>\n          <Title>DEV.Log</Title>\n        </TitleGroup>\n        <Filter>\n          <FilterElement onClick={clearCategory}>전체</FilterElement>\n          {\n            distinct.map((key, i) => {\n              return (\n                <FilterElement\n                  key={String(key)}\n                  onClick={handleCategory(key)}\n                >\n                  {`${key}(${group[i].totalCount})`}\n                </FilterElement>\n              );\n            })\n          }\n        </Filter>\n        <Main>\n          {\n            list && list.map((v, i) => {\n              const {category, title, summary, date_created, thumbnail, path} = v.node.frontmatter;\n              return (\n                <Link to={`/${path}`} key={String(i)}>\n                  <Post>\n                    {\n                      thumbnail ?\n                        <Thumbnail src={thumbnail} /> :\n                        <EmptyImage>No Image</EmptyImage>\n                    }\n                    <PostInfoSection>\n                      <PostCategory>{`#${category}`}</PostCategory>\n                      <PostTitle>{title}</PostTitle>\n                      <PostSubtitle>{summary}</PostSubtitle>\n                      <PostDateCreated>{date_created}</PostDateCreated>\n                    </PostInfoSection>\n                  </Post>\n                </Link>\n              );\n            })\n          }\n        </Main>\n      </ContentSection>\n    </Background>\n  );\n}\n\nexport const query = graphql`\n  {\n    allMarkdownRemark(sort: {order: DESC, fields: frontmatter___date_created}) {\n      distinct(field: frontmatter___category)\n      group(field: frontmatter___category) {\n        edges {\n          node {\n            frontmatter {\n              path\n              category\n              date_created\n              title\n              summary\n              thumbnail\n            }\n          }\n        }\n        fieldValue\n        totalCount\n      }\n    }\n  }\n`;\n\nexport default Devlog;\n"],"sourceRoot":""}