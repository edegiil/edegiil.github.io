{"version":3,"sources":["webpack:///./src/pages/Devlog/index.js"],"names":["query","withLayout","data","allMarkdownRemark","distinct","group","useState","fieldValue","category","setCategory","list","setList","useEffect","filter","v","edges","title","className","map","key","i","String","onClick","totalCount","node","frontmatter","date","path","summary","thumbnail","to","alt","src","undefined","width"],"mappings":"6FACA,0GAmEaA,GAnEb,UAmEkB,cAuBHC,uBAjFA,SAAC,GAAmB,IAAD,IAAhBC,KACiBC,kBAAzBC,EADwB,EACxBA,SAAUC,EADc,EACdA,MADc,EAGAC,mBAASD,EAAM,GAAGE,YAA3CC,EAHyB,KAGfC,EAHe,OAIRH,mBAAS,IAA1BI,EAJyB,KAInBC,EAJmB,KAMhCC,qBAAU,WACRD,EAAQN,EAAMQ,QAAO,SAACC,GAAD,OAAOA,EAAEP,aAAeC,KAAU,GAAGO,SACzD,CAACP,IAIJ,OACE,oCACE,kBAAC,IAAD,CAAKQ,MAAM,WACX,yBAAKC,UAAU,kBACb,yBAAKA,UAAU,uBAEXb,EAASc,KAAI,SAACC,EAAKC,GAAN,OACX,yBAAKH,UAAU,qBAAqBE,IAAKE,OAAOD,IAC9C,yBAAKH,UAAU,mBAAmBK,SAVxBR,EAUgDK,EAV1C,kBAAMV,EAAYK,MAW5BK,EADN,KACcd,EAAMe,GAAGG,WADvB,MAVS,IAACT,MAiBlB,yBAAKG,UAAU,uBACb,yBAAKA,UAAU,qBAAqBT,GAEjCE,EAEGA,EAAKQ,KAAI,SAACJ,EAAGM,GAAO,IAAD,EAC+BN,EAAEU,KAAKC,YAAjDT,EADW,EACXA,MAAOU,EADI,EACJA,KAAMC,EADF,EACEA,KAAMC,EADR,EACQA,QAASC,EADjB,EACiBA,UACpC,OACE,kBAAC,OAAD,CAAMC,GAAIH,EAAMV,UAAU,sBAAsBE,IAAKE,OAAOD,IAC1D,yBAAKH,UAAU,6BACb,yBAAKA,UAAU,oBAAoBc,IAAI,OAAOC,IAAKH,KAErD,yBAAKZ,UAAU,4BACb,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,0BAA0BD,GACzC,yBAAKC,UAAU,+BAA+BS,IAEhD,yBAAKT,UAAU,oBACZW,aAdTK,OAkDDhC,CAAmB,CAAEe,MAAO,SAAUkB,MAAO","file":"component---src-pages-devlog-index-js-2bd012669b608c4836c3.js","sourcesContent":["// @flow\nimport React, { useState, useEffect } from 'react';\nimport { Link, graphql } from 'gatsby';\n\nimport withLayout from 'hoc/withLayout';\n\nimport SEO from 'components/seo';\n\nimport './styles.scss';\n\nconst Devlog = ({ data }: any) => {\n  const { distinct, group } = data.allMarkdownRemark;\n\n  const [category, setCategory] = useState(group[0].fieldValue);\n  const [list, setList] = useState([]);\n\n  useEffect(() => {\n    setList(group.filter((v) => v.fieldValue === category)[0].edges);\n  }, [category]);\n\n  const handleCategory = (v) => () => setCategory(v);\n\n  return (\n    <>\n      <SEO title='Devlog' />\n      <div className='devlog-wrapper'>\n        <div className='devlog-menu-wrapper'>\n          {\n            distinct.map((key, i) => (\n              <div className='devlog-menu-column' key={String(i)}>\n                <div className='devlog-menu-text' onClick={handleCategory(key)}>\n                  {`${key} (${group[i].totalCount})`}\n                </div>\n              </div>\n            ))\n          }\n        </div>\n        <div className='devlog-list-wrapper'>\n          <div className='devlog-list-title'>{category}</div>\n          {\n            !list\n              ? undefined\n              : list.map((v, i) => {\n                const { title, date, path, summary, thumbnail } = v.node.frontmatter;\n                return (\n                  <Link to={path} className='devlog-post-wrapper' key={String(i)}>\n                    <div className='devlog-post-image-wrapper'>\n                      <img className='devlog-post-image' alt='post' src={thumbnail} />\n                    </div>\n                    <div className='devlog-post-text-wrapper'>\n                      <div className='devlog-post-text-title-wrapper'>\n                        <div className='devlog-post-text-title'>{title}</div>\n                        <div className='devlog-post-text-title-date'>{date}</div>\n                      </div>\n                      <div className='devlog-post-text'>\n                        {summary}\n                      </div>\n                    </div>\n                  </Link>\n                );\n              })\n          }\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport const query = graphql`\n  {\n    allMarkdownRemark {\n      distinct(field: frontmatter___category)\n      group(field: frontmatter___category) {\n        edges {\n          node {\n            frontmatter {\n              title\n              date\n              path\n              summary\n              thumbnail\n            }\n          }\n        }\n        fieldValue\n        totalCount\n      }\n    }\n  }\n`;\n\nexport default withLayout(Devlog)({ title: 'Devlog', width: 'full' });\n"],"sourceRoot":""}