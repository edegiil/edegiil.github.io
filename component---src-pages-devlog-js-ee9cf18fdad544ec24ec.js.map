{"version":3,"sources":["webpack://edegiil.github.io/./src/pages/devlog.js"],"names":["Background","styled","ContentSection","props","theme","tablet","mobile","TitleGroup","Title","Filter","FilterElement","Main","Post","DARK_COLOR","Thumbnail","EmptyImage","PostInfoSection","PostTitle","PostCategory","PostSubtitle","PostDateCreated","data","allMdx","distinct","group","useState","undefined","category","setCategory","list","setList","useEffect","filter","v","fieldValue","edges","all_posts","map","i","reduce","prev","curr","concat","onClick","key","String","totalCount","node","frontmatter","title","summary","date_created","thumbnail","path","Link","to","src"],"mappings":"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","file":"component---src-pages-devlog-js-ee9cf18fdad544ec24ec.js","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Link, graphql} from 'gatsby';\r\n\r\nconst Background = styled.div`\r\n  display: flex;\r\n  min-height: 100vh;\r\n  width: 100vw;\r\n  padding: 81px 0;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst ContentSection = styled.section`\r\n  width: 900px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  @media ${(props) => props.theme.tablet} {\r\n    width: 350px;\r\n  }\r\n  @media ${(props) => props.theme.mobile} {\r\n    width: 350px;\r\n  }\r\n`;\r\n\r\nconst TitleGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 900px;\r\n  @media ${(props) => props.theme.tablet} {\r\n    width: 350px;\r\n  }\r\n  @media ${(props) => props.theme.mobile} {\r\n    width: 350px;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-weight: 100;\r\n  margin: 0;\r\n`;\r\n\r\nconst Filter = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: column dense;\r\n  justify-items: end;\r\n  column-gap: 12px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n`;\r\n\r\nconst FilterElement = styled.div`\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Main = styled.main`\r\n  display: grid;\r\n  flex-direction: column;\r\n  width: 900px;\r\n  row-gap: 16px;\r\n  margin-top: 16px;\r\n  @media ${(props) => props.theme.tablet} {\r\n    width: 350px;\r\n  }\r\n  @media ${(props) => props.theme.mobile} {\r\n    width: 350px;\r\n  }\r\n`;\r\n\r\nconst Post = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  padding-bottom: 16px;\r\n  border-bottom: 1px solid ${(props) => props.theme.DARK_COLOR};\r\n  @media ${(props) => props.theme.tablet} {\r\n    flex-direction: column;\r\n  }\r\n  @media ${(props) => props.theme.mobile} {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst Thumbnail = styled.img`\r\n  width: 360px;\r\n  height: 210px;\r\n  background-color: ${(props) => props.theme.DARK_COLOR};\r\n  @media ${(props) => props.theme.tablet} {\r\n    margin-bottom: 8px;\r\n  }\r\n  @media ${(props) => props.theme.mobile} {\r\n    width: 350px;\r\n    height: 201px;\r\n  }\r\n`;\r\n\r\nconst EmptyImage = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 360px;\r\n  height: 210px;\r\n  background-color: ${(props) => props.theme.DARK_COLOR};\r\n  @media ${(props) => props.theme.tablet} {\r\n    margin-bottom: 8px;\r\n  }\r\n  @media ${(props) => props.theme.mobile} {\r\n    width: 350px;\r\n    height: 201px;\r\n  }\r\n`;\r\n\r\nconst PostInfoSection = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  margin-left: 24px;\r\n  @media ${(props) => props.theme.tablet} {\r\n    margin-left: 0;\r\n  }\r\n  @media ${(props) => props.theme.mobile} {\r\n    margin-left: 4px;\r\n  }\r\n`;\r\n\r\nconst PostTitle = styled.h3`\r\n  margin: 0;\r\n  margin-bottom: 16px;\r\n  @media ${(props) => props.theme.tablet} {\r\n    margin-bottom: 8px;\r\n  }\r\n  @media ${(props) => props.theme.mobile} {\r\n    margin-bottom: 8px;\r\n  }\r\n`;\r\n\r\nconst PostCategory = styled.h4`\r\n  margin: 0;\r\n  font-weight: 100;\r\n`;\r\n\r\nconst PostSubtitle = styled.h4`\r\n  margin: 0;\r\n  margin-bottom: 8px;\r\n  font-weight: 100;\r\n`;\r\n\r\nconst PostDateCreated = styled.p`\r\n  margin: 0;\r\n  font-weight: 100;\r\n`;\r\n\r\nfunction Devlog({data}) {\r\n  const {distinct, group} = data.allMdx;\r\n\r\n  const [category, setCategory] = useState(undefined);\r\n  const [list, setList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (category) {\r\n      setList(group.filter((v) => v.fieldValue === category)[0].edges);\r\n    } else {\r\n      const categories = group.map((v, i) => {\r\n        return v.edges;\r\n      });\r\n      const all_posts = categories.reduce((prev, curr) => prev.concat(curr));\r\n      setList(all_posts);\r\n    }\r\n  }, [category, group]);\r\n\r\n  const handleCategory = (v) => () => setCategory(v);\r\n  const clearCategory = () => setCategory(undefined);\r\n\r\n  return (\r\n    <Background>\r\n      <ContentSection>\r\n        <TitleGroup>\r\n          <Title>DEV.Log</Title>\r\n        </TitleGroup>\r\n        <Filter>\r\n          <FilterElement onClick={clearCategory}>전체</FilterElement>\r\n          {\r\n            distinct.map((key, i) => {\r\n              return (\r\n                <FilterElement\r\n                  key={String(key)}\r\n                  onClick={handleCategory(key)}\r\n                >\r\n                  {`${key}(${group[i].totalCount})`}\r\n                </FilterElement>\r\n              );\r\n            })\r\n          }\r\n        </Filter>\r\n        <Main>\r\n          {\r\n            list && list.map((v, i) => {\r\n              const {category, title, summary, date_created, thumbnail, path} = v.node.frontmatter;\r\n              return (\r\n                <Link to={`/${path}`} key={String(i)}>\r\n                  <Post>\r\n                    {\r\n                      thumbnail ?\r\n                        <Thumbnail src={thumbnail} /> :\r\n                        <EmptyImage>No Image</EmptyImage>\r\n                    }\r\n                    <PostInfoSection>\r\n                      <PostCategory>{`#${category}`}</PostCategory>\r\n                      <PostTitle>{title}</PostTitle>\r\n                      <PostSubtitle>{summary}</PostSubtitle>\r\n                      <PostDateCreated>{date_created}</PostDateCreated>\r\n                    </PostInfoSection>\r\n                  </Post>\r\n                </Link>\r\n              );\r\n            })\r\n          }\r\n        </Main>\r\n      </ContentSection>\r\n    </Background>\r\n  );\r\n}\r\n\r\nexport const query = graphql`\r\n  {\r\n    allMdx(sort: {order: DESC, fields: frontmatter___path}) {\r\n      distinct(field: frontmatter___category)\r\n      group(field: frontmatter___category) {\r\n        edges {\r\n          node {\r\n            frontmatter {\r\n              path\r\n              category\r\n              date_created\r\n              title\r\n              summary\r\n              thumbnail\r\n            }\r\n          }\r\n        }\r\n        fieldValue\r\n        totalCount\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Devlog;\r\n"],"sourceRoot":""}